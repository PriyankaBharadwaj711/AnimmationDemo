{"ast":null,"code":"import _asyncToGenerator from \"/Users/priyanka/Desktop/ODU_Projects/anim/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { OutputFormat } from 'ng-audio-recorder';\nimport { Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"ng-audio-recorder\";\nimport * as i4 from \"@angular/material/button\";\nexport class LastQuestionComponent {\n  constructor(dialog, data, fb, audioRecorderService) {\n    this.dialog = dialog;\n    this.data = data;\n    this.fb = fb;\n    this.audioRecorderService = audioRecorderService;\n    this._recorded = new Subject();\n    this._recordingTime = new Subject();\n    this._recordingFailed = new Subject();\n    this.audioRecorderService.recorderError.subscribe(recorderErrorCase => {\n      console.log(\"Error while recording\", recorderErrorCase);\n    });\n  }\n\n  ngOnInit() {}\n\n  closeDialog() {\n    this.dialog.close({\n      saved: false\n    });\n  }\n\n  startRecording() {\n    this.audioRecorderService.startRecording();\n  }\n\n  stopRecording() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const recordingOutput = yield _this.audioRecorderService.stopRecording(OutputFormat.WEBM_BLOB);\n      let newBlob = new Blob([recordingOutput], {\n        type: 'audio/mpeg-3'\n      }); // this.blobURL = newBlob;\n\n      console.log(newBlob);\n\n      _this.audioRecorderService.stopRecording(OutputFormat.WEBM_BLOB).then(output => {\n        console.log(\"recording stopped\", recordingOutput); // do post output steps\n      }).catch(errrorCase => {\n        // Handle Error\n        console.log(\"error in recording\");\n      });\n    })();\n  }\n\n}\n\nLastQuestionComponent.ɵfac = function LastQuestionComponent_Factory(t) {\n  return new (t || LastQuestionComponent)(i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.NgAudioRecorderService));\n};\n\nLastQuestionComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LastQuestionComponent,\n  selectors: [[\"app-last-question\"]],\n  decls: 14,\n  vars: 0,\n  consts: [[1, \"dialog\"], [3, \"click\"], [\"align\", \"end \"], [\"mat-button\", \"\", \"mat-dialog-close\", \"\", 3, \"click\"], [\"mat-button\", \"\", \"mat-dialog-close\", \"\"]],\n  template: function LastQuestionComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"mat-dialog-content\", 0);\n      i0.ɵɵelementStart(1, \"p\");\n      i0.ɵɵtext(2, \"hello\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"p\");\n      i0.ɵɵtext(4, \"Record Audio here\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function LastQuestionComponent_Template_button_click_5_listener() {\n        return ctx.startRecording();\n      });\n      i0.ɵɵtext(6, \"Record\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function LastQuestionComponent_Template_button_click_7_listener() {\n        return ctx.stopRecording();\n      });\n      i0.ɵɵtext(8, \"Stop Recording\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"mat-dialog-actions\", 2);\n      i0.ɵɵelementStart(10, \"button\", 3);\n      i0.ɵɵlistener(\"click\", function LastQuestionComponent_Template_button_click_10_listener() {\n        return ctx.closeDialog();\n      });\n      i0.ɵɵtext(11, \"Save\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"button\", 4);\n      i0.ɵɵtext(13, \"Close\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n  },\n  directives: [i1.MatDialogContent, i1.MatDialogActions, i4.MatButton, i1.MatDialogClose],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsYXN0LXF1ZXN0aW9uLmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"sources":["/Users/priyanka/Desktop/ODU_Projects/anim/src/app/last-question/last-question.component.ts"],"names":["MAT_DIALOG_DATA","OutputFormat","Subject","i0","i1","i2","i3","i4","LastQuestionComponent","constructor","dialog","data","fb","audioRecorderService","_recorded","_recordingTime","_recordingFailed","recorderError","subscribe","recorderErrorCase","console","log","ngOnInit","closeDialog","close","saved","startRecording","stopRecording","recordingOutput","WEBM_BLOB","newBlob","Blob","type","then","output","catch","errrorCase","ɵfac","LastQuestionComponent_Factory","t","ɵɵdirectiveInject","MatDialogRef","FormBuilder","NgAudioRecorderService","ɵcmp","ɵɵdefineComponent","selectors","decls","vars","consts","template","LastQuestionComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","LastQuestionComponent_Template_button_click_5_listener","LastQuestionComponent_Template_button_click_7_listener","LastQuestionComponent_Template_button_click_10_listener","directives","MatDialogContent","MatDialogActions","MatButton","MatDialogClose","styles"],"mappings":"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","sourcesContent":["import { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { OutputFormat } from 'ng-audio-recorder';\nimport { Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"ng-audio-recorder\";\nimport * as i4 from \"@angular/material/button\";\nexport class LastQuestionComponent {\n    constructor(dialog, data, fb, audioRecorderService) {\n        this.dialog = dialog;\n        this.data = data;\n        this.fb = fb;\n        this.audioRecorderService = audioRecorderService;\n        this._recorded = new Subject();\n        this._recordingTime = new Subject();\n        this._recordingFailed = new Subject();\n        this.audioRecorderService.recorderError.subscribe(recorderErrorCase => {\n            console.log(\"Error while recording\", recorderErrorCase);\n        });\n    }\n    ngOnInit() {\n    }\n    closeDialog() {\n        this.dialog.close({\n            saved: false\n        });\n    }\n    startRecording() {\n        this.audioRecorderService.startRecording();\n    }\n    async stopRecording() {\n        const recordingOutput = await this.audioRecorderService.stopRecording(OutputFormat.WEBM_BLOB);\n        let newBlob = new Blob([recordingOutput], { type: 'audio/mpeg-3' });\n        // this.blobURL = newBlob;\n        console.log(newBlob);\n        this.audioRecorderService.stopRecording(OutputFormat.WEBM_BLOB).then((output) => {\n            console.log(\"recording stopped\", recordingOutput);\n            // do post output steps\n        }).catch(errrorCase => {\n            // Handle Error\n            console.log(\"error in recording\");\n        });\n    }\n}\nLastQuestionComponent.ɵfac = function LastQuestionComponent_Factory(t) { return new (t || LastQuestionComponent)(i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.NgAudioRecorderService)); };\nLastQuestionComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: LastQuestionComponent, selectors: [[\"app-last-question\"]], decls: 14, vars: 0, consts: [[1, \"dialog\"], [3, \"click\"], [\"align\", \"end \"], [\"mat-button\", \"\", \"mat-dialog-close\", \"\", 3, \"click\"], [\"mat-button\", \"\", \"mat-dialog-close\", \"\"]], template: function LastQuestionComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mat-dialog-content\", 0);\n        i0.ɵɵelementStart(1, \"p\");\n        i0.ɵɵtext(2, \"hello\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"p\");\n        i0.ɵɵtext(4, \"Record Audio here\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function LastQuestionComponent_Template_button_click_5_listener() { return ctx.startRecording(); });\n        i0.ɵɵtext(6, \"Record\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function LastQuestionComponent_Template_button_click_7_listener() { return ctx.stopRecording(); });\n        i0.ɵɵtext(8, \"Stop Recording\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"mat-dialog-actions\", 2);\n        i0.ɵɵelementStart(10, \"button\", 3);\n        i0.ɵɵlistener(\"click\", function LastQuestionComponent_Template_button_click_10_listener() { return ctx.closeDialog(); });\n        i0.ɵɵtext(11, \"Save\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"button\", 4);\n        i0.ɵɵtext(13, \"Close\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n    } }, directives: [i1.MatDialogContent, i1.MatDialogActions, i4.MatButton, i1.MatDialogClose], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsYXN0LXF1ZXN0aW9uLmNvbXBvbmVudC5jc3MifQ== */\"] });\n"]},"metadata":{},"sourceType":"module"}