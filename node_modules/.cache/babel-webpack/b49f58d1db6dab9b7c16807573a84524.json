{"ast":null,"code":"import _asyncToGenerator from \"/Users/priyanka/Desktop/ODU_Projects/anim/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { OutputFormat } from 'ng-audio-recorder';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"ng-audio-recorder\";\nimport * as i4 from \"@angular/material/button\";\nexport class LastQuestionComponent {\n  constructor(dialog, data, fb, audioRecorderService) {\n    this.dialog = dialog;\n    this.data = data;\n    this.fb = fb;\n    this.audioRecorderService = audioRecorderService;\n    this.audioRecorderService.recorderError.subscribe(recorderErrorCase => {});\n  }\n\n  ngOnInit() {}\n\n  closeDialog() {\n    this.dialog.close({\n      saved: false\n    });\n  }\n\n  startRecording() {\n    this.audioRecorderService.startRecording();\n  }\n\n  stopRecording() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const recordingOutput = yield _this.audioRecorderService.stopRecording(OutputFormat.WEBM_BLOB);\n      let newBlob = new Blob([recordingOutput], {\n        type: 'audio/mpeg-3'\n      });\n      console.log(newBlob);\n\n      _this.audioRecorderService.stopRecording(OutputFormat.WEBM_BLOB).then(output => {\n        console.log(\"recording stopped\", recordingOutput); // do post output steps\n      }).catch(errrorCase => {\n        // Handle Error\n        console.log(\"error in recording\");\n      });\n    })();\n  }\n\n}\n\nLastQuestionComponent.ɵfac = function LastQuestionComponent_Factory(t) {\n  return new (t || LastQuestionComponent)(i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.NgAudioRecorderService));\n};\n\nLastQuestionComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LastQuestionComponent,\n  selectors: [[\"app-last-question\"]],\n  decls: 15,\n  vars: 1,\n  consts: [[1, \"dialog\"], [3, \"click\"], [\"controls\", \"controls\", \"type\", \"audio/mp3\", 3, \"src\"], [\"align\", \"end \"], [\"mat-button\", \"\", \"mat-dialog-close\", \"\", 3, \"click\"], [\"mat-button\", \"\", \"mat-dialog-close\", \"\"]],\n  template: function LastQuestionComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"mat-dialog-content\", 0);\n      i0.ɵɵelementStart(1, \"p\");\n      i0.ɵɵtext(2, \"hello\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"p\");\n      i0.ɵɵtext(4, \"Record Audio here\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function LastQuestionComponent_Template_button_click_5_listener() {\n        return ctx.startRecording();\n      });\n      i0.ɵɵtext(6, \"Record\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"button\", 1);\n      i0.ɵɵlistener(\"click\", function LastQuestionComponent_Template_button_click_7_listener() {\n        return ctx.stopRecording();\n      });\n      i0.ɵɵtext(8, \"Stop Recording\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(9, \"audio\", 2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"mat-dialog-actions\", 3);\n      i0.ɵɵelementStart(11, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function LastQuestionComponent_Template_button_click_11_listener() {\n        return ctx.closeDialog();\n      });\n      i0.ɵɵtext(12, \"Save\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"button\", 5);\n      i0.ɵɵtext(14, \"Close\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵpropertyInterpolate(\"src\", ctx.blobURL, i0.ɵɵsanitizeUrl);\n    }\n  },\n  directives: [i1.MatDialogContent, i1.MatDialogActions, i4.MatButton, i1.MatDialogClose],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsYXN0LXF1ZXN0aW9uLmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"sources":["/Users/priyanka/Desktop/ODU_Projects/anim/src/app/last-question/last-question.component.ts"],"names":["MAT_DIALOG_DATA","OutputFormat","i0","i1","i2","i3","i4","LastQuestionComponent","constructor","dialog","data","fb","audioRecorderService","recorderError","subscribe","recorderErrorCase","ngOnInit","closeDialog","close","saved","startRecording","stopRecording","recordingOutput","WEBM_BLOB","newBlob","Blob","type","console","log","then","output","catch","errrorCase","ɵfac","LastQuestionComponent_Factory","t","ɵɵdirectiveInject","MatDialogRef","FormBuilder","NgAudioRecorderService","ɵcmp","ɵɵdefineComponent","selectors","decls","vars","consts","template","LastQuestionComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","LastQuestionComponent_Template_button_click_5_listener","LastQuestionComponent_Template_button_click_7_listener","ɵɵelement","LastQuestionComponent_Template_button_click_11_listener","ɵɵadvance","ɵɵpropertyInterpolate","blobURL","ɵɵsanitizeUrl","directives","MatDialogContent","MatDialogActions","MatButton","MatDialogClose","styles"],"mappings":"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","sourcesContent":["import { MAT_DIALOG_DATA } from '@angular/material/dialog';\nimport { OutputFormat } from 'ng-audio-recorder';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/material/dialog\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"ng-audio-recorder\";\nimport * as i4 from \"@angular/material/button\";\nexport class LastQuestionComponent {\n    constructor(dialog, data, fb, audioRecorderService) {\n        this.dialog = dialog;\n        this.data = data;\n        this.fb = fb;\n        this.audioRecorderService = audioRecorderService;\n        this.audioRecorderService.recorderError.subscribe(recorderErrorCase => { });\n    }\n    ngOnInit() {\n    }\n    closeDialog() {\n        this.dialog.close({\n            saved: false\n        });\n    }\n    startRecording() {\n        this.audioRecorderService.startRecording();\n    }\n    async stopRecording() {\n        const recordingOutput = await this.audioRecorderService.stopRecording(OutputFormat.WEBM_BLOB);\n        let newBlob = new Blob([recordingOutput], { type: 'audio/mpeg-3' });\n        console.log(newBlob);\n        this.audioRecorderService.stopRecording(OutputFormat.WEBM_BLOB).then((output) => {\n            console.log(\"recording stopped\", recordingOutput);\n            // do post output steps\n        }).catch(errrorCase => {\n            // Handle Error\n            console.log(\"error in recording\");\n        });\n    }\n}\nLastQuestionComponent.ɵfac = function LastQuestionComponent_Factory(t) { return new (t || LastQuestionComponent)(i0.ɵɵdirectiveInject(i1.MatDialogRef), i0.ɵɵdirectiveInject(MAT_DIALOG_DATA), i0.ɵɵdirectiveInject(i2.FormBuilder), i0.ɵɵdirectiveInject(i3.NgAudioRecorderService)); };\nLastQuestionComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: LastQuestionComponent, selectors: [[\"app-last-question\"]], decls: 15, vars: 1, consts: [[1, \"dialog\"], [3, \"click\"], [\"controls\", \"controls\", \"type\", \"audio/mp3\", 3, \"src\"], [\"align\", \"end \"], [\"mat-button\", \"\", \"mat-dialog-close\", \"\", 3, \"click\"], [\"mat-button\", \"\", \"mat-dialog-close\", \"\"]], template: function LastQuestionComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"mat-dialog-content\", 0);\n        i0.ɵɵelementStart(1, \"p\");\n        i0.ɵɵtext(2, \"hello\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"p\");\n        i0.ɵɵtext(4, \"Record Audio here\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function LastQuestionComponent_Template_button_click_5_listener() { return ctx.startRecording(); });\n        i0.ɵɵtext(6, \"Record\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function LastQuestionComponent_Template_button_click_7_listener() { return ctx.stopRecording(); });\n        i0.ɵɵtext(8, \"Stop Recording\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(9, \"audio\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"mat-dialog-actions\", 3);\n        i0.ɵɵelementStart(11, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function LastQuestionComponent_Template_button_click_11_listener() { return ctx.closeDialog(); });\n        i0.ɵɵtext(12, \"Save\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"button\", 5);\n        i0.ɵɵtext(14, \"Close\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n    } if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵpropertyInterpolate(\"src\", ctx.blobURL, i0.ɵɵsanitizeUrl);\n    } }, directives: [i1.MatDialogContent, i1.MatDialogActions, i4.MatButton, i1.MatDialogClose], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJsYXN0LXF1ZXN0aW9uLmNvbXBvbmVudC5jc3MifQ== */\"] });\n"]},"metadata":{},"sourceType":"module"}